-- Backup de Estructura - Base de datos Kommerce
-- Generado el: 23-MAY-2025 21:09:21

-- Tabla: DISTRITO


  CREATE TABLE DISTRITO 
   (	COD_DIS CHAR(5) COLLATE USING_NLS_COMP, 
	NOM_DIS VARCHAR2(50) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (COD_DIS)
  USING INDEX  ENABLE
   )  ;

-- Tabla: CLIENTE


  CREATE TABLE CLIENTE 
   (	COD_CLI CHAR(5) COLLATE USING_NLS_COMP, 
	RSO_CLI VARCHAR2(30) COLLATE USING_NLS_COMP, 
	DIR_CLI VARCHAR2(100) COLLATE USING_NLS_COMP, 
	TLF_CLI CHAR(9) COLLATE USING_NLS_COMP, 
	RUC_CLI CHAR(11) COLLATE USING_NLS_COMP, 
	COD_DIS CHAR(5) COLLATE USING_NLS_COMP, 
	FEC_REG DATE, 
	TIP_CLI VARCHAR2(10) COLLATE USING_NLS_COMP, 
	CON_CLI VARCHAR2(30) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (COD_CLI)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_DIS)
	  REFERENCES DISTRITO (COD_DIS) ENABLE
   )  ;

-- Tabla: PROVEEDOR


  CREATE TABLE PROVEEDOR 
   (	COD_PRV CHAR(5) COLLATE USING_NLS_COMP, 
	RSO_PRV VARCHAR2(30) COLLATE USING_NLS_COMP, 
	DIR_PRV VARCHAR2(100) COLLATE USING_NLS_COMP, 
	TEL_PRV CHAR(15) COLLATE USING_NLS_COMP, 
	COD_DIS CHAR(5) COLLATE USING_NLS_COMP, 
	REP_PRV VARCHAR2(80) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (COD_PRV)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_DIS)
	  REFERENCES DISTRITO (COD_DIS) ENABLE
   )  ;

-- Tabla: PRODUCTO


  CREATE TABLE PRODUCTO 
   (	COD_PRO CHAR(5) COLLATE USING_NLS_COMP, 
	DES_PRO VARCHAR2(50) COLLATE USING_NLS_COMP, 
	PRE_PRO NUMBER(10,2), 
	SAC_PRO NUMBER(*,0), 
	SML_PRO NUMBER(*,0), 
	UNL_PRO VARCHAR2(30) COLLATE USING_NLS_COMP, 
	LIN_PRO VARCHAR2(30) COLLATE USING_NLS_COMP, 
	IMP_PRO VARCHAR2(10) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (COD_PRO)
  USING INDEX  ENABLE
   )  ;

-- Tabla: ABASTECIMIENTO


  CREATE TABLE ABASTECIMIENTO 
   (	COD_PRV CHAR(5) COLLATE USING_NLS_COMP, 
	COD_PRO CHAR(5) COLLATE USING_NLS_COMP, 
	PRE_ABA NUMBER(10,2), 
	 PRIMARY KEY (COD_PRV, COD_PRO)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_PRV)
	  REFERENCES PROVEEDOR (COD_PRV) ENABLE, 
	 FOREIGN KEY (COD_PRO)
	  REFERENCES PRODUCTO (COD_PRO) ENABLE
   )  ;

-- Tabla: VENDEDOR


  CREATE TABLE VENDEDOR 
   (	COD_VEN CHAR(3) COLLATE USING_NLS_COMP, 
	NOM_VEN VARCHAR2(20) COLLATE USING_NLS_COMP, 
	APE_VEN VARCHAR2(20) COLLATE USING_NLS_COMP, 
	SUE_VEN NUMBER(10,2), 
	FIN_VEN DATE, 
	TIP_VEN VARCHAR2(10) COLLATE USING_NLS_COMP, 
	COD_DIS CHAR(5) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (COD_VEN)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_DIS)
	  REFERENCES DISTRITO (COD_DIS) ENABLE
   )  ;

-- Tabla: FACTURA


  CREATE TABLE FACTURA 
   (	NUM_FAC VARCHAR2(12) COLLATE USING_NLS_COMP, 
	FEC_FAC DATE, 
	COD_CLI CHAR(5) COLLATE USING_NLS_COMP, 
	FEC_CAN DATE, 
	EST_FAC VARCHAR2(10) COLLATE USING_NLS_COMP, 
	COD_VEN CHAR(3) COLLATE USING_NLS_COMP, 
	POR_JGV NUMBER(18,0), 
	 PRIMARY KEY (NUM_FAC)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_CLI)
	  REFERENCES CLIENTE (COD_CLI) ENABLE, 
	 FOREIGN KEY (COD_VEN)
	  REFERENCES VENDEDOR (COD_VEN) ENABLE
   )  ;

-- Tabla: DETALLE_FACTURA


  CREATE TABLE DETALLE_FACTURA 
   (	NUM_FAC VARCHAR2(12) COLLATE USING_NLS_COMP, 
	COD_PRO CHAR(5) COLLATE USING_NLS_COMP, 
	CAN_VEN NUMBER(*,0), 
	PRE_VEN NUMBER(10,2), 
	 PRIMARY KEY (NUM_FAC, COD_PRO)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (NUM_FAC)
	  REFERENCES FACTURA (NUM_FAC) ENABLE, 
	 FOREIGN KEY (COD_PRO)
	  REFERENCES PRODUCTO (COD_PRO) ENABLE
   )  ;

-- Tabla: ORDEN_COMPRA


  CREATE TABLE ORDEN_COMPRA 
   (	NUM_OCO CHAR(5) COLLATE USING_NLS_COMP, 
	FEC_OCO DATE, 
	COD_PRV CHAR(5) COLLATE USING_NLS_COMP, 
	FAT_OCO DATE, 
	EST_OCO CHAR(1) COLLATE USING_NLS_COMP, 
	 PRIMARY KEY (NUM_OCO)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (COD_PRV)
	  REFERENCES PROVEEDOR (COD_PRV) ENABLE
   )  ;

-- Tabla: DETALLE_COMPRA


  CREATE TABLE DETALLE_COMPRA 
   (	NUM_OCO CHAR(5) COLLATE USING_NLS_COMP, 
	COD_PRO CHAR(5) COLLATE USING_NLS_COMP, 
	CAN_DET NUMBER(*,0), 
	 PRIMARY KEY (NUM_OCO, COD_PRO)
  USING INDEX  ENABLE, 
	 FOREIGN KEY (NUM_OCO)
	  REFERENCES ORDEN_COMPRA (NUM_OCO) ENABLE, 
	 FOREIGN KEY (COD_PRO)
	  REFERENCES PRODUCTO (COD_PRO) ENABLE
   )  ;


